# -------------- 核心设备与架构配置（108M版本）--------------
CONFIG_TARGET_mediatek=y
CONFIG_TARGET_mediatek_mt7981=y
CONFIG_TARGET_mediatek_mt7981_DEVICE_mt7981-360-t7-108M=y
CONFIG_TARGET_BOARD="mediatek"
CONFIG_TARGET_SUBTARGET="mt7981"
CONFIG_TARGET_PROFILE="DEVICE_mt7981-360-t7-108M"
CONFIG_TARGET_ARCH_PACKAGES="aarch64_cortex-a53"
CONFIG_DEFAULT_TARGET_OPTIMIZATION="-Os -pipe -mcpu=cortex-a53"

# -------------- 禁用mwan3/多拨（关键）--------------
CONFIG_PACKAGE_luci-app-mwan3=n
CONFIG_PACKAGE_mwan3=n
CONFIG_PACKAGE_mwan3helper=n
CONFIG_PACKAGE_iproute2-multi-rtable=n

# -------------- hanwckf仓库 最新MT7981 WiFi驱动 --------------
CONFIG_PACKAGE_kmod-mt76-core=y
CONFIG_PACKAGE_kmod-mt7603e=y
CONFIG_PACKAGE_kmod-mt7615e=y
CONFIG_PACKAGE_kmod-mt7615-firmware=y
CONFIG_PACKAGE_kmod-mt7981-wifi=y
CONFIG_PACKAGE_mt7981-wifi-firmware=y
CONFIG_PACKAGE_kmod-mt7986-firmware=n  # 关闭旧驱动避免冲突

# -------------- hanwckf仓库MT798x专属核心库 --------------
CONFIG_PACKAGE_mt798x-firmware=y
CONFIG_PACKAGE_kmod-mediatek-mt7981=y
CONFIG_PACKAGE_libmt7603e=y
CONFIG_PACKAGE_libmt7615e=y
CONFIG_PACKAGE_libmt7981=y
CONFIG_PACKAGE_kmod-leds-mt7981=y
CONFIG_PACKAGE_kmod-gpio-mt7981=y
CONFIG_PACKAGE_kmod-nand-mt7981=y
CONFIG_PACKAGE_mtd-mt7981=y

# -------------- BBR 核心配置 --------------
CONFIG_KERNEL_CC_DEFAULT="bbr"
CONFIG_KERNEL_NET_SCH_CODEL=y
CONFIG_KERNEL_NET_SCH_FQ_CODEL=y
CONFIG_KERNEL_NET_CLS_ACT=y
CONFIG_KERNEL_NET_CLS_FW=y
CONFIG_KERNEL_NET_CLS_U32=y
CONFIG_KERNEL_NET_SCH_HTB=y
CONFIG_KERNEL_TCP_CONG_BBR=y
CONFIG_PACKAGE_iproute2=y

# -------------- 108M闪存适配 --------------
CONFIG_TARGET_ROOTFS_SQUASHFS=y
CONFIG_TARGET_ROOTFS_PARTSIZE=100
CONFIG_SIGNED_PACKAGES=n
CONFIG_TARGET_SQUASHFS_BLOCK_SIZE=256k
CONFIG_PACKAGE_ip6tables=n
CONFIG_PACKAGE_odhcp6c=n
CONFIG_PACKAGE_wpad-basic-mbedtls=y
CONFIG_PACKAGE_luci-theme-argon-mini=y

# -------------- 基础系统与LuCI核心 --------------
CONFIG_PACKAGE_base-files=y
CONFIG_PACKAGE_busybox=y
CONFIG_PACKAGE_dropbear=y
CONFIG_PACKAGE_opkg=y
CONFIG_PACKAGE_luci=y
CONFIG_PACKAGE_luci-base=y
CONFIG_PACKAGE_luci-mod-admin-full=y
CONFIG_PACKAGE_luci-app-firewall=y
CONFIG_PACKAGE_luci-app-opkg=y

# -------------- 自定义插件列表 --------------
CONFIG_PACKAGE_luci-app-aliddns=y
CONFIG_PACKAGE_luci-app-appfilter=y
CONFIG_PACKAGE_luci-app-argon-config=y
CONFIG_PACKAGE_luci-app-arpbind=y
CONFIG_PACKAGE_luci-app-autoreboot=y
CONFIG_PACKAGE_luci-app-ddns=y
CONFIG_PACKAGE_luci-app-eoip=y
CONFIG_PACKAGE_luci-app-eqos=y
CONFIG_PACKAGE_luci-app-iptvhelper=y
CONFIG_PACKAGE_luci-app-mtk=y
CONFIG_PACKAGE_luci-app-openclash=y
CONFIG_PACKAGE_luci-app-openvpn-server=y
CONFIG_PACKAGE_luci-app-ramfree=y
CONFIG_PACKAGE_luci-app-timecontrol=y
CONFIG_PACKAGE_luci-app-ttyd=y
CONFIG_PACKAGE_luci-app-turboacc=y
CONFIG_PACKAGE_luci-app-upnp=y
CONFIG_PACKAGE_luci-app-weburl=y
CONFIG_PACKAGE_luci-app-wol=y

# -------------- 完整插件依赖（补全所有缺失项）--------------
# OpenClash 完整依赖
CONFIG_PACKAGE_coreutils=y
CONFIG_PACKAGE_coreutils-base64=y
CONFIG_PACKAGE_coreutils-nohup=y
CONFIG_PACKAGE_curl=y
CONFIG_PACKAGE_unzip=y
CONFIG_PACKAGE_wget=y
CONFIG_PACKAGE_xz=y
CONFIG_PACKAGE_zlib=y
# TurboACC 完整依赖
CONFIG_PACKAGE_kmod-fast-classifier=y
CONFIG_PACKAGE_kmod-flow-offload=y
CONFIG_PACKAGE_kmod-tcp-bbr=y
# OpenVPN Server 完整依赖
CONFIG_PACKAGE_openvpn-easy-rsa=y
CONFIG_PACKAGE_openvpn-mbedtls=y
CONFIG_PACKAGE_easy-rsa=y
# EQoS 完整依赖
CONFIG_PACKAGE_kmod-ifb=y
CONFIG_PACKAGE_tc=y
CONFIG_PACKAGE_ipset=y
# ALiDDNS/DDNS 完整依赖
CONFIG_PACKAGE_ddns-scripts=y
CONFIG_PACKAGE_ddns-scripts_aliyun=y
CONFIG_PACKAGE_bind-host=y
# AppFilter 完整依赖
CONFIG_PACKAGE_kmod-ipt-ipset=y
CONFIG_PACKAGE_kmod-ipt-tproxy=y
CONFIG_PACKAGE_iptables-mod-tproxy=y
# EOIP 完整依赖
CONFIG_PACKAGE_kmod-gre=y
CONFIG_PACKAGE_kmod-ipip=y
# UPnP 完整依赖
CONFIG_PACKAGE_upnpd=y
CONFIG_PACKAGE_miniupnpd=y
# TTYD 完整依赖
CONFIG_PACKAGE_ttyd=y
# WOL 完整依赖
CONFIG_PACKAGE_etherwake=y
# 系统基础依赖
CONFIG_PACKAGE_bash=y
CONFIG_PACKAGE_findutils=y
CONFIG_PACKAGE_grep=y

# -------------- 硬件功能适配 --------------
CONFIG_PACKAGE_kmod-usb3=y
CONFIG_PACKAGE_kmod-usb-storage=y
CONFIG_PACKAGE_kmod-fs-ext4=y
CONFIG_PACKAGE_kmod-usb-ohci=y
CONFIG_PACKAGE_kmod-usb2=y
